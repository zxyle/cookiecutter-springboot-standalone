
## 概述
本项目拥有完备的接口文档支持，前端开发者可以通过接口文档对接后端接口，实现前后端分离。



## 设计风格

绝大多数接口都遵循 restful设计风格

| 请求方法 | 作用                   | 示例                              | 响应     |
| -------- | ---------------------- | --------------------------------- | -------- |
| GET      | 获取分页数据           | GET   /user?pageSize=10&current=1 | 分页对象 |
| GET      | 根据ID**查询**单条数据 | GET        /links/{id}            | 本条数据 |
| POST     | **创建**新资源         | POST     /links                   | 本条数据 |
| PUT      | 根据ID**更新**单条请求 | PUT       /links/{id}             | 新数据   |
| DELETE   | 根据ID**删除**单条数据 | DELETE /links/{id}                | 是否成功 |



通用响应结构：

| 属性名  | 数据类型 | 含义               |
| ------- | -------- | ------------------ |
| code    | string   | 状态码             |
| message | string   | 消息，用于提示用户 |
| success | boolean  | 是否成功           |
| data    | object   | 接口返回数据       |
| traceId | string   | 请求追踪ID         |



#### 分页查询

分页请求：

| 属性名   | 数据类型 | 默认值 | 含义                       |
| -------- | -------- | ------ | -------------------------- |
| pageNum  | int      | 1      | 当前分页的编号             |
| current  | int      | 1      | 兼容pageNum，参数二选一    |
| pageSize | int      | 10     | 分页大小                   |
| order    | string   | ASC    | 排序，ASC-升序， DESC-降序 |
| sort     | string   | id     | 排序字段                   |

分页响应：

| 属性名   | 数据类型 | 含义         |
| -------- | -------- | ------------ |
| total    | int      | 数据总数     |
| current  | int      | 当前页数     |
| pageSize | int      | 每页条数     |
| list     | List     | 分页数据列表 |

示例：

```json
{
    "success": true,
    "traceId": "cfe11b2ada8948cf8b76806c46e9c401",
    "code": 200,
    "data": {
        "list": [
            {
                "id": 1,
                "email": "xxx@qq.com",
                "tel": "22",
                "description": "系统无法登陆"
            },
            {
                "id": 2,
                "email": "xxx@qq.com",
                "description": "系统无法登陆"
            }
        ],
        "total": 2
    }
}
```




## 前置准备


所有接口已 `/api` 开头



## 对接登录

- 请求验证码接口
- 将验证码ID、验证码识别结果、账号名 、用户密码传入接口
- 接口会返回token，此后每次请求需要在header上 加上`token`





## 对接退出登录

登出也需要token



## 对接字典表

字典接口对接



## 部署

本项目推荐使用部署脚本`deploy.sh`进行部署，该脚本从后端开发者处获取

- 将`deploy.sh`复制到前端项目根目录下
- 修改server等参数
- 复制ssh公钥到服务器 `ssh-copy-id -i ~/.ssh/id_rsa.pub root@127.0.0.1` 并输入服务器密码
- 给部署脚本加上可行性权限 `chmod +x deploy.sh`
- 以后每次部署只需要执行 `bash deploy.sh publish`
